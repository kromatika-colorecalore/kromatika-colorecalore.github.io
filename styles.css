@layer reset, base, components, utilities;

/* =======================
   RESET (modern minimal)
======================= */
@layer reset {
  *,
  *::before,
  *::after { box-sizing: border-box; }

  html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
  body { margin: 0; }
  img { max-width: 100%; height: auto; display: block; }
  a { color: inherit; }
  button { font: inherit; }
}

/* =======================
   BASE TOKENS + THEMING
======================= */
@layer base {
  :root {
    --brand1: 255 45 45;
    --brand2: 255 107 0;

    --bg: 11 11 12;
    --text: 245 245 246;
    --muted: 185 185 190;

    --panel: 255 255 255;
    --border: 255 255 255;

    --radius: 18px;
    --radius2: 26px;
    --container: 1120px;

    --shadow1: 0 18px 55px rgb(0 0 0 / 0.38);
    --shadow2: 0 26px 90px rgb(0 0 0 / 0.52);

    --ease: cubic-bezier(0.2, 0.9, 0.2, 1);
    --focus: 255 255 255;

    --a-panel: 0.06;
    --a-panel2: 0.045;
    --a-border: 0.12;
    --a-glow1: 0.18;
    --a-glow2: 0.16;

    color-scheme: dark light;
    accent-color: rgb(var(--brand2));
    scroll-padding-top: 86px;
  }

  @media (prefers-color-scheme: light) {
    :root {
      --bg: 247 247 248;
      --text: 16 17 19;
      --muted: 84 87 94;

      --shadow1: 0 18px 55px rgb(0 0 0 / 0.14);
      --shadow2: 0 24px 85px rgb(0 0 0 / 0.18);

      --focus: 16 17 19;
      --a-glow1: 0.10;
      --a-glow2: 0.10;
    }
  }

  body {
    color: rgb(var(--text));
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    line-height: 1.65;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    background:
      radial-gradient(1200px 760px at 14% 0%, rgb(var(--brand1) / var(--a-glow1)), transparent 58%),
      radial-gradient(1000px 700px at 86% 12%, rgb(var(--brand2) / var(--a-glow2)), transparent 62%),
      radial-gradient(1200px 900px at 50% 110%, rgb(255 255 255 / 0.035), transparent 58%),
      rgb(var(--bg));

    overflow-x: clip;
  }

  ::selection { background: rgb(var(--brand2) / 0.35); }

  .container {
    width: min(100% - 32px, var(--container));
    margin-inline: auto;
  }

  .sr-only {
    position: absolute;
    width: 1px; height: 1px;
    padding: 0; margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap; border: 0;
  }

  .skip {
    position: absolute;
    left: -999px;
    top: 12px;
    background: rgb(255 255 255);
    color: rgb(0 0 0);
    padding: 10px 12px;
    border-radius: 12px;
    z-index: 9999;
    box-shadow: 0 10px 30px rgb(0 0 0 / 0.25);
  }
  .skip:focus { left: 12px; }

  .muted { color: rgb(var(--muted)); }
  .small { font-size: 13px; }
}

/* =======================
   COMPONENTS
======================= */
@layer components {
  /* Header */
  .site-header {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: rgb(var(--bg) / 0.58);
    border-bottom: 1px solid rgb(var(--border) / 0.08);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);
  }
  @supports (background: color-mix(in srgb, #000 50%, transparent)) {
    .site-header {
      background: color-mix(in srgb, rgb(var(--bg)) 62%, transparent);
    }
  }

  .header-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 14px;
    padding: 12px 0;
  }

  .brand {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    min-width: 240px;
  }

  .brand-mark {
    width: 44px;
    height: 44px;
    border-radius: 16px;
    overflow: hidden;
    border: 1px solid rgb(var(--border) / 0.14);
    background:
      radial-gradient(80% 80% at 30% 25%, rgb(255 255 255 / 0.18), transparent 60%),
      linear-gradient(135deg, rgb(var(--brand1) / 0.28), rgb(var(--brand2) / 0.20));
    box-shadow: 0 18px 60px rgb(0 0 0 / 0.42);
    display: grid;
    place-items: center;
  }
  .brand-mark img { width: 100%; height: 100%; object-fit: cover; }

  .brand-text { display: flex; flex-direction: column; line-height: 1.1; }
  .brand-name { font-weight: 900; letter-spacing: 0.8px; }
  .brand-tag { font-size: 13px; color: rgb(var(--muted)); }

  /* Nav */
  .nav { position: relative; }
  .nav-toggle {
    display: none;
    cursor: pointer;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.06);
    border-radius: 16px;
    padding: 12px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .nav-icon {
    width: 22px; height: 14px;
    display: block;
    position: relative;
  }
  .nav-icon::before,
  .nav-icon::after {
    content: "";
    position: absolute;
    left: 0; right: 0;
    height: 2px;
    border-radius: 999px;
    background: rgb(var(--text) / 0.86);
  }
  .nav-icon::before { top: 2px; }
  .nav-icon::after { bottom: 2px; }

  .nav-list {
    list-style: none;
    display: flex;
    gap: 10px;
    margin: 0;
    padding: 0;
    align-items: center;
  }
  .nav-list a {
    text-decoration: none;
    padding: 10px 12px;
    border-radius: 14px;
    white-space: nowrap;
    border: 1px solid transparent;
    transition: transform 220ms var(--ease), background 220ms var(--ease), border-color 220ms var(--ease);
  }
  .nav-list a:hover,
  .nav-list a:focus-visible {
    background: rgb(var(--panel) / 0.06);
    border-color: rgb(var(--border) / 0.10);
    transform: translateY(-1px);
  }
  .nav-list a.cta {
    background: linear-gradient(135deg, rgb(var(--brand1) / 0.95), rgb(var(--brand2) / 0.92));
    color: rgb(var(--bg));
    font-weight: 900;
    box-shadow: 0 18px 60px rgb(var(--brand2) / 0.18);
  }

  @media (max-width: 1180px) {
    .nav-toggle { display: inline-flex; }
    .nav-list {
      display: none;
      position: absolute;
      right: 0;
      top: 56px;
      min-width: 260px;
      flex-direction: column;
      gap: 6px;
      padding: 10px;
      border-radius: var(--radius2);
      background: rgb(var(--bg) / 0.95);
      border: 1px solid rgb(var(--border) / 0.12);
      box-shadow: var(--shadow2);
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
    }
    .nav-list.is-open { display: flex; }
    .nav-list a { width: 100%; padding: 12px; white-space: normal; }
    .nav-list a.cta { width: fit-content; padding: 10px 14px; }
  }

  /* Reveal */
  .reveal {
    opacity: 0;
    transform: translateY(12px);
    transition: opacity 0.70s var(--ease), transform 0.70s var(--ease);
    will-change: opacity, transform;
  }
  .reveal.is-in { opacity: 1; transform: translateY(0); }
  @media (prefers-reduced-motion: reduce) {
    .reveal { opacity: 1; transform: none; transition: none; }
  }

  /* Hero */
  .hero { padding: 44px 0 18px; }
  .hero-grid {
    display: grid;
    grid-template-columns: 1.05fr 0.95fr;
    gap: 26px;
    align-items: center;
  }
  .badge {
    display: inline-block;
    margin: 0;
    padding: 10px 14px;
    border-radius: 999px;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.06);
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    color: rgb(var(--muted));
  }
  .badge::before {
    content: "";
    display: inline-block;
    width: 10px; height: 10px;
    border-radius: 999px;
    margin-right: 10px;
    background: linear-gradient(135deg, rgb(var(--brand1)), rgb(var(--brand2)));
    box-shadow: 0 0 0 6px rgb(var(--brand2) / 0.12);
    vertical-align: middle;
  }
  .hero h1 {
    margin: 10px 0;
    font-size: clamp(32px, 3.6vw, 56px);
    line-height: 1.05;
    letter-spacing: -0.8px;
    text-wrap: balance;
    text-shadow: 0 18px 60px rgb(0 0 0 / 0.35);
  }
  .lead {
    margin: 12px 0 18px;
    max-width: 66ch;
    color: rgb(var(--text) / 0.88);
    font-size: clamp(16px, 1.25vw, 18px);
  }
  .hero-cta { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 14px; }

  .stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin: 14px 0;
  }
  .stat {
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.06);
    border-radius: var(--radius);
    padding: 12px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .stat dt { color: rgb(var(--muted)); font-size: 13px; }
  .stat dd { margin: 2px 0 0; font-weight: 900; }

  .fineprint { margin: 0; font-size: 13px; color: rgb(var(--muted)); }

  .hero-media {
    position: relative;
    border-radius: 28px;
    overflow: hidden;
    border: 1px solid rgb(var(--border) / 0.12);
    box-shadow: var(--shadow2);
    background: rgb(var(--bg) / 0.84);
  }
  .hero-media img {
    width: 100%;
    aspect-ratio: 4 / 3;
    object-fit: cover;
    filter: saturate(1.06) contrast(1.04);
    transform: scale(1.02);
  }
  .hero-glow {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(740px 520px at 26% 16%, rgb(var(--brand1) / 0.20), transparent 58%),
      radial-gradient(700px 520px at 72% 20%, rgb(var(--brand2) / 0.14), transparent 60%),
      linear-gradient(to top, rgb(0 0 0 / 0.58), transparent 56%);
    pointer-events: none;
  }

  /* Trust */
  .trust { padding: 14px 0 6px; }
  .trust-inner {
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 14px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .trust-title {
    margin: 0 0 10px;
    color: rgb(var(--muted));
    font-size: 13px;
    letter-spacing: 0.4px;
    text-transform: uppercase;
  }
  .trust-list {
    margin: 0;
    padding: 0;
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  .trust-list li {
    padding: 8px 10px;
    border-radius: 999px;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.04);
    font-size: 13px;
  }

  /* Sections */
  .section {
    padding: 56px 0;
    content-visibility: auto;
    contain-intrinsic-size: 1px 900px;
  }
  .section.alt {
    background: rgb(var(--panel) / 0.02);
    border-top: 1px solid rgb(var(--border) / 0.10);
    border-bottom: 1px solid rgb(var(--border) / 0.10);
  }
  .section-head { margin-bottom: 18px; }
  .section h2 { margin: 0 0 8px; font-size: 32px; letter-spacing: -0.3px; text-wrap: balance; }
  .section-lead { margin: 0; color: rgb(var(--muted)); }

  .split { display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 18px; align-items: start; }
  .prose p { margin: 10px 0; }

  .pill-row { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
  .pill {
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.06);
    padding: 8px 12px;
    border-radius: 999px;
    color: rgb(var(--muted));
  }

  .callout {
    margin-top: 16px;
    padding: 16px;
    border-radius: var(--radius);
    border: 1px solid rgb(var(--border) / 0.14);
    background:
      radial-gradient(800px 260px at 20% 0%, rgb(var(--brand2) / 0.14), transparent 60%),
      linear-gradient(135deg, rgb(var(--brand1) / 0.10), rgb(var(--brand2) / 0.07));
    box-shadow: var(--shadow1);
  }
  .info-box {
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 16px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .big-strong { margin: 0; font-weight: 900; font-size: 18px; }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 16px;
    border-radius: 16px;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.06);
    text-decoration: none;
    cursor: pointer;
    box-shadow: var(--shadow1);
    transition: transform 220ms var(--ease), filter 220ms var(--ease), box-shadow 220ms var(--ease);
  }
  @media (hover: hover) and (pointer: fine) {
    .btn:hover { transform: translateY(-1px); box-shadow: 0 22px 70px rgb(0 0 0 / 0.34); }
  }
  .btn.primary {
    border-color: transparent;
    background: linear-gradient(135deg, rgb(var(--brand1) / 0.95), rgb(var(--brand2) / 0.92));
    color: rgb(var(--bg));
    font-weight: 900;
    box-shadow: 0 22px 80px rgb(var(--brand2) / 0.22), var(--shadow1);
  }
  .btn.ghost { background: rgb(var(--panel) / 0.05); }

  /* Cards */
  .grid3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-top: 18px; }
  .card {
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 16px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
    transition: transform 220ms var(--ease), box-shadow 220ms var(--ease), border-color 220ms var(--ease);
  }
  @media (hover: hover) and (pointer: fine) {
    .card:hover { transform: translateY(-2px); border-color: rgb(var(--border) / 0.18); box-shadow: var(--shadow2); }
  }
  .card p { margin: 0 0 12px; color: rgb(var(--muted)); }
  .mini { margin: 0; padding-left: 18px; color: rgb(var(--text) / 0.88); }
  .mini li { margin: 6px 0; }

  /* Carousel (scroll-snap, super smooth, perf) */
  .carousel {
    display: grid;
    grid-template-columns: 56px 1fr 56px;
    gap: 14px;
    align-items: center;
    margin-top: 18px;
  }
  .car-viewport {
    overflow: auto hidden;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    border-radius: var(--radius2);
    overscroll-behavior-x: contain;
    scrollbar-width: none;
  }
  .car-viewport::-webkit-scrollbar { display: none; }

  .car-track {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: minmax(220px, 1fr);
    gap: 14px;
    padding: 2px; /* evita tagli ombre */
    align-items: stretch;
  }

  .shot {
    scroll-snap-align: start;
    border-radius: 22px;
    overflow: hidden;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--panel) / 0.04);
    box-shadow: 0 18px 60px rgb(0 0 0 / 0.22);
    position: relative;
    isolation: isolate;
    text-decoration: none;
  }
  .shot img {
    width: 100%;
    aspect-ratio: 1 / 1;
    object-fit: cover;
    filter: saturate(1.06) contrast(1.04);
    transform: scale(1.02);
    transition: transform 320ms var(--ease);
  }
  @media (hover: hover) and (pointer: fine) {
    .shot:hover img { transform: scale(1.08); }
  }

  .car-btn {
    width: 56px; height: 56px;
    border-radius: 999px;
    border: 1px solid rgb(var(--border) / 0.14);
    background: rgb(var(--bg) / 0.55);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
    box-shadow: 0 20px 70px rgb(0 0 0 / 0.38);
    cursor: pointer;
    font-size: 36px;
    line-height: 0;
    display: grid;
    place-items: center;
    transition: transform 220ms var(--ease), filter 220ms var(--ease), opacity 220ms var(--ease);
  }
  .car-btn[disabled] { opacity: 0.25; cursor: default; }
  @media (hover: hover) and (pointer: fine) {
    .car-btn:not([disabled]):hover { transform: translateY(-1px); filter: brightness(1.06); }
  }

  /* Reviews layout */
  .car-track.reviews { grid-auto-columns: minmax(280px, 1fr); }
  .review {
    scroll-snap-align: start;
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.085), rgb(var(--panel) / 0.045));
    border-radius: 24px;
    padding: 16px;
    box-shadow: 0 18px 60px rgb(0 0 0 / 0.24);
    position: relative;
    overflow: hidden;
  }
  .review-top { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 6px; }
  .stars { letter-spacing: 1px; color: rgb(var(--brand2) / 0.86); font-weight: 900; }
  .review-meta { color: rgb(var(--muted)); font-size: 13px; }
  .review-job { margin-top: 6px; color: rgb(var(--text) / 0.88); font-size: 14px; }
  .review-text { margin: 10px 0 0; color: rgb(var(--muted)); border-top: 1px solid rgb(var(--border) / 0.10); padding-top: 12px; }
  .review-media {
    margin-top: 12px;
    border-radius: 18px;
    overflow: hidden;
    border: 1px solid rgb(var(--border) / 0.12);
    background: rgb(var(--bg) / 0.88);
  }
  .review-media img { width: 100%; aspect-ratio: 16 / 9; object-fit: cover; }

  /* CTA band */
  .cta-band {
    margin-top: 18px;
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.085), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 14px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }

  /* Steps */
  .steps { margin-top: 18px; display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
  .step {
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 16px;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .step-n {
    width: 38px; height: 38px;
    border-radius: 14px;
    display: grid;
    place-items: center;
    font-weight: 900;
    color: rgb(var(--bg));
    background: linear-gradient(135deg, rgb(var(--brand1) / 0.95), rgb(var(--brand2) / 0.92));
    margin-bottom: 10px;
  }

  /* FAQ */
  .faq { margin-top: 18px; display: grid; gap: 12px; }
  .faq-item {
    border-radius: 24px;
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    overflow: hidden;
    box-shadow: var(--shadow1);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .faq-item summary { padding: 16px 18px; cursor: pointer; list-style: none; font-weight: 900; }
  .faq-item summary::-webkit-details-marker { display: none; }
  .faq-item[open] summary { border-bottom: 1px solid rgb(var(--border) / 0.12); }
  .faq-content { padding: 0 18px 16px; color: rgb(var(--muted)); }

  /* Contacts */
  .contact-actions { display: flex; gap: 12px; flex-wrap: wrap; }

  /* Footer */
  .footer {
    padding: 26px 0;
    border-top: 1px solid rgb(var(--border) / 0.10);
    background: rgb(var(--panel) / 0.02);
  }
  .footer-cols { display: grid; grid-template-columns: repeat(4, 1fr); gap: 14px; }
  .footer-col {
    border: 1px solid rgb(var(--border) / 0.12);
    background: linear-gradient(180deg, rgb(var(--panel) / 0.075), rgb(var(--panel) / 0.045));
    border-radius: var(--radius2);
    padding: 14px;
    box-shadow: 0 18px 55px rgb(0 0 0 / 0.20);
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }
  .footer-col h3 {
    margin: 0 0 10px;
    font-size: 14px;
    letter-spacing: 0.3px;
    text-transform: uppercase;
    color: rgb(var(--muted));
  }
  .footer-col a { display: block; padding: 6px 0; text-decoration: none; }
  .footer-col a:hover { text-decoration: underline; }

  .footer-bottom {
    margin-top: 18px;
    border-top: 1px solid rgb(var(--border) / 0.10);
    padding-top: 14px;
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
  }

  /* Lightbox */
  body.lb-lock {
    position: fixed;
    inset: 0;
    width: 100%;
    overflow: hidden;
    touch-action: none;
  }

  .lightbox {
    padding: 0;
    border: 0;
    width: min(1120px, calc(100% - 18px));
    border-radius: 36px;
    overflow: hidden;

    background:
      radial-gradient(900px 420px at 18% 8%, rgb(var(--brand1) / 0.14), transparent 60%),
      radial-gradient(900px 520px at 82% 10%, rgb(var(--brand2) / 0.12), transparent 62%),
      linear-gradient(180deg, rgb(var(--panel) / 0.12), rgb(var(--panel) / 0.06)),
      rgb(var(--bg) / 0.60);

    box-shadow: 0 34px 120px rgb(0 0 0 / 0.68), 0 18px 60px rgb(0 0 0 / 0.44);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);
  }
  .lightbox::backdrop {
    background: radial-gradient(900px 520px at 50% 10%, rgb(var(--brand2) / 0.12), transparent 60%),
      radial-gradient(900px 520px at 12% 22%, rgb(var(--brand1) / 0.10), transparent 58%),
      rgb(0 0 0 / 0.80);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);
  }
  .lb-figure { margin: 0; position: relative; display: grid; }
  .lb-img {
    width: 100%;
    max-height: min(78vh, 780px);
    object-fit: contain;
    background:
      radial-gradient(900px 520px at 30% 18%, rgb(255 255 255 / 0.07), transparent 60%),
      radial-gradient(900px 520px at 70% 10%, rgb(255 255 255 / 0.05), transparent 62%),
      rgb(0 0 0 / 0.90);
    cursor: zoom-in;
    user-select: none;
    -webkit-user-drag: none;
    touch-action: none;
    transform-origin: 50% 50%;
  }
  .lightbox.is-zoom .lb-img { cursor: grab; }
  .lightbox.is-zoom .lb-img:active { cursor: grabbing; }

  .lb-cap {
    position: absolute;
    left: 16px; right: 16px; bottom: 16px;
    z-index: 5;

    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;

    padding: 10px 12px;
    border-radius: 18px;

    border: 1px solid rgb(255 255 255 / 0.14);
    background: rgb(0 0 0 / 0.46);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);

    box-shadow: 0 22px 85px rgb(0 0 0 / 0.52);
  }
  .lb-title {
    font-weight: 900;
    color: rgb(255 255 255 / 0.94);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .lb-right { display: inline-flex; align-items: center; gap: 8px; }
  .lb-hint, .lb-count {
    font-size: 12px;
    font-weight: 900;
    color: rgb(255 255 255 / 0.82);
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid rgb(255 255 255 / 0.16);
    background: rgb(255 255 255 / 0.08);
  }

  .lb-close,
  .lb-nav {
    position: absolute;
    z-index: 6;
    border: 1px solid rgb(255 255 255 / 0.16);
    background: rgb(0 0 0 / 0.52);
    color: rgb(255 255 255 / 0.96);
    -webkit-backdrop-filter: blur(14px);
    backdrop-filter: blur(14px);
    box-shadow: 0 22px 85px rgb(0 0 0 / 0.52), 0 10px 30px rgb(0 0 0 / 0.42);
    display: grid;
    place-items: center;
    cursor: pointer;
  }
  .lb-close {
    top: 14px; right: 14px;
    width: 48px; height: 48px;
    border-radius: 999px;
    font-size: 22px;
    line-height: 0;
  }
  .lb-nav {
    top: 50%;
    transform: translateY(-50%);
    width: 58px; height: 58px;
    border-radius: 999px;
    font-size: 30px;
    line-height: 0;
  }
  .lb-nav.prev { left: 14px; }
  .lb-nav.next { right: 14px; }

  /* Focus */
  .nav-toggle:focus-visible,
  .btn:focus-visible,
  .nav-list a:focus-visible,
  .car-btn:focus-visible,
  .lb-nav:focus-visible,
  .lb-close:focus-visible {
    outline: 2px solid rgb(var(--focus) / 0.95);
    outline-offset: 3px;
  }

  /* Responsive */
  @media (max-width: 980px) {
    .hero-grid { grid-template-columns: 1fr; }
    .stats { grid-template-columns: 1fr; }
    .split { grid-template-columns: 1fr; }
    .grid3 { grid-template-columns: 1fr; }
    .steps { grid-template-columns: 1fr; }
    .cta-band { flex-direction: column; align-items: flex-start; }
    .footer-cols { grid-template-columns: 1fr; }
  }

  /* Motion/transparency/contrast */
  @media (prefers-reduced-transparency: reduce) {
    .site-header, .nav-list, .btn, .card, .stat, .lightbox, .lb-cap {
      -webkit-backdrop-filter: none !important;
      backdrop-filter: none !important;
    }
  }
  @media (prefers-contrast: more) {
    .btn, .card, .stat, .footer-col { box-shadow: none; }
  }
}

/* =======================
   UTILITIES
======================= */
@layer utilities {
  .noscript { padding: 12px 0; }
}
